   1               		.file	"hal_gpt_lld.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.gpt_lld_dummy_callback,"ax",@progbits
  12               	gpt_lld_dummy_callback:
  13               	.LFB243:
  14               		.file 1 "../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c"
   1:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*
   2:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
   4:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     you may not use this file except in compliance with the License.
   6:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     You may obtain a copy of the License at
   7:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
   8:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****         http://www.apache.org/licenses/LICENSE-2.0
   9:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  10:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     Unless required by applicable law or agreed to in writing, software
  11:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     See the License for the specific language governing permissions and
  14:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     limitations under the License.
  15:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** */
  16:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  17:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*
  18:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****    This driver is based on the work done by Matteo Serva available at
  19:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****    http://github.com/matteoserva/ChibiOS-AVR
  20:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** */
  21:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  22:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
  23:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @file    TIMv1/hal_gpt_lld.c
  24:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   AVR/MEGA GPT subsystem low level driver source.
  25:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
  26:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @addtogroup GPT
  27:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @{
  28:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
  29:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  30:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #include "hal.h"
  31:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  32:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if HAL_USE_GPT || defined(__DOXYGEN__)
  33:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  34:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
  35:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Driver local definitions.                                                */
  36:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
  37:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  38:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #define PRESCALER_SIZE_BASE       5
  39:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #define PRESCALER_SIZE_EXTENDED   7
  40:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  41:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* FIXME: could use better names here! */
  42:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** typedef struct {
  43:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *tccra;
  44:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *tccrb;
  45:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *ocr1;
  46:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *ocr2;
  47:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *tcnt1;
  48:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *tcnt2;
  49:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *tifr;
  50:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   volatile uint8_t *timsk;
  51:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** } timer_registers_t;
  52:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  53:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** const timer_registers_t regs_table[] = {
  54:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM1 || defined(__DOXYGEN__)
  55:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   { &TCCR1A, &TCCR1B, &OCR1AH, &OCR1AL, &TCNT1H, &TCNT1L, &TIFR1, &TIMSK1 },
  56:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  57:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM2 || defined(__DOXYGEN__)
  58:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   { &TCCR2A, &TCCR2B, &OCR2A, &OCR2A, &TCNT2, &TCNT2, &TIFR2, &TIMSK2 },
  59:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  60:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM3 || defined(__DOXYGEN__)
  61:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   { &TCCR3A, &TCCR3B, &OCR3AH, &OCR3AL, &TCNT3H, &TCNT3L, &TIFR3, &TIMSK3 },
  62:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  63:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM4 || defined(__DOXYGEN__)
  64:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   { &TCCR4A, &TCCR4B, &OCR4AH, &OCR4AL, &TCNT4H, &TCNT4L, &TIFR4, &TIMSK4 },
  65:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  66:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM5 || defined(__DOXYGEN__)
  67:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   { &TCCR5A, &TCCR5B, &OCR5AH, &OCR5AL, &TCNT5H, &TCNT5L, &TIFR5, &TIMSK5 },
  68:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  69:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** };
  70:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  71:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
  72:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Driver exported variables.                                               */
  73:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
  74:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  75:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM1 || defined(__DOXYGEN__)
  76:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** GPTDriver GPTD1;
  77:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  78:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM2 || defined(__DOXYGEN__)
  79:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** GPTDriver GPTD2;
  80:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  81:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM3 || defined(__DOXYGEN__)
  82:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** GPTDriver GPTD3;
  83:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  84:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM4 || defined(__DOXYGEN__)
  85:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** GPTDriver GPTD4;
  86:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  87:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM5 || defined(__DOXYGEN__)
  88:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** GPTDriver GPTD5;
  89:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
  90:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  91:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
  92:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Driver local variables.                                                  */
  93:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
  94:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  95:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** static uint16_t ratio_base[] = { 1024, 256, 64, 8, 1 };
  96:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** static uint8_t  clock_source_base[] = { 5, 4, 3, 2, 1 };
  97:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
  98:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Extended tables.
  99:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * static uint16_t ratio_extended[] = { 1024, 256, 128, 64, 32, 8, 1 };
 100:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * static uint8_t  clock_source_extended[] = { 7, 6, 5, 4, 3, 2, 1 };
 101:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 102:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 103:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
 104:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Driver local functions.                                                  */
 105:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
 106:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 107:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 108:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TODO: Comment this function.
 109:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 110:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] freq
 111:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] ratio   pointer to the ratio used to calculate the prescaler
 112:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] n       ....
 113:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @return            ....
 114:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 115:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** static uint8_t prescaler(uint16_t freq, uint16_t *ratio, uint8_t n) {
 116:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 117:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   uint8_t i;
 118:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 119:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   for (i = 0; i < n; ++i) {
 120:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     uint32_t result = F_CPU / ratio[i] / freq;
 121:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     if (result > 256UL)
 122:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****        return i - 1;
 123:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     if ((result * ratio[i] * freq) == F_CPU)
 124:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****       return i;
 125:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   }
 126:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   return -1;
 127:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 128:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 129:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 130:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TODO: Comment this function.
 131:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 132:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp  pointer to the General Purpose Timer driver.
 133:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 134:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** static void gpt_lld_serve_interrupt(GPTDriver *gptp) {
 135:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 136:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->counter++;
 137:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp->counter == gptp->period) {
 138:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     gptp->counter = 0;
 139:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     if (gptp->state == GPT_ONESHOT) {
 140:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****       gptp->state = GPT_READY;             /* Back in GPT_READY state.     */
 141:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****       gpt_lld_stop_timer(gptp);            /* Timer automatically stopped. */
 142:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     }
 143:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     gptp->callback(gptp);
 144:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   }
 145:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 146:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 147:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 148:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   GPT low level driver dummy callback.
 149:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 150:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp  pointer to the General Purpose Timer driver.
 151:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 152:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** static void gpt_lld_dummy_callback(GPTDriver *gptp) {
  15               		.loc 1 152 0
  16               		.cfi_startproc
  17               	.LVL0:
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  22 0000 0895      		ret
  23               		.cfi_endproc
  24               	.LFE243:
  26               		.section	.text.__vector_11,"ax",@progbits
  27               	.global	__vector_11
  29               	__vector_11:
  30               	.LFB245:
 153:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 154:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 155:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 156:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Get the timer index.
 157:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 158:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp  pointer to the General Purpose Timer driver.
 159:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 160:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** static uint8_t getTimerIndex(GPTDriver *gptp) {
 161:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 162:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   uint8_t index = 0;
 163:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 164:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM1 || defined(__DOXYGEN__)
 165:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp == &GPTD1) return index;
 166:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 167:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 168:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM2 || defined(__DOXYGEN__)
 169:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp == &GPTD2) return index;
 170:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 171:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 172:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM3 || defined(__DOXYGEN__)
 173:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp == &GPTD3) return index;
 174:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 175:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 176:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM4 || defined(__DOXYGEN__)
 177:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp == &GPTD4) return index;
 178:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 179:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 180:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM5 || defined(__DOXYGEN__)
 181:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp == &GPTD5) return index;
 182:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 183:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 184:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   return -1;
 185:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 186:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 187:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*===========================================================================*/
 188:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Driver interrupt handlers.                                                */
 189:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*===========================================================================*/
 190:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 191:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM1 || defined(__DOXYGEN__)
 192:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 193:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TIM1 interrupt handler.
 194:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 195:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @isr
 196:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 197:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** OSAL_IRQ_HANDLER(TIMER1_COMPA_vect) {
  31               		.loc 1 197 0
  32               		.cfi_startproc
  33               		.loc 1 197 0
  34 0000 1F92      		push r1
  35               	.LCFI0:
  36               		.cfi_def_cfa_offset 3
  37               		.cfi_offset 1, -2
  38 0002 0F92      		push r0
  39               	.LCFI1:
  40               		.cfi_def_cfa_offset 4
  41               		.cfi_offset 0, -3
  42 0004 0FB6      		in r0,__SREG__
  43 0006 0F92      		push r0
  44 0008 1124      		clr __zero_reg__
  45 000a 2F93      		push r18
  46               	.LCFI2:
  47               		.cfi_def_cfa_offset 5
  48               		.cfi_offset 18, -4
  49 000c 3F93      		push r19
  50               	.LCFI3:
  51               		.cfi_def_cfa_offset 6
  52               		.cfi_offset 19, -5
  53 000e 4F93      		push r20
  54               	.LCFI4:
  55               		.cfi_def_cfa_offset 7
  56               		.cfi_offset 20, -6
  57 0010 5F93      		push r21
  58               	.LCFI5:
  59               		.cfi_def_cfa_offset 8
  60               		.cfi_offset 21, -7
  61 0012 6F93      		push r22
  62               	.LCFI6:
  63               		.cfi_def_cfa_offset 9
  64               		.cfi_offset 22, -8
  65 0014 7F93      		push r23
  66               	.LCFI7:
  67               		.cfi_def_cfa_offset 10
  68               		.cfi_offset 23, -9
  69 0016 8F93      		push r24
  70               	.LCFI8:
  71               		.cfi_def_cfa_offset 11
  72               		.cfi_offset 24, -10
  73 0018 9F93      		push r25
  74               	.LCFI9:
  75               		.cfi_def_cfa_offset 12
  76               		.cfi_offset 25, -11
  77 001a AF93      		push r26
  78               	.LCFI10:
  79               		.cfi_def_cfa_offset 13
  80               		.cfi_offset 26, -12
  81 001c BF93      		push r27
  82               	.LCFI11:
  83               		.cfi_def_cfa_offset 14
  84               		.cfi_offset 27, -13
  85 001e EF93      		push r30
  86               	.LCFI12:
  87               		.cfi_def_cfa_offset 15
  88               		.cfi_offset 30, -14
  89 0020 FF93      		push r31
  90               	.LCFI13:
  91               		.cfi_def_cfa_offset 16
  92               		.cfi_offset 31, -15
  93               	/* prologue: Signal */
  94               	/* frame size = 0 */
  95               	/* stack size = 15 */
  96               	.L__stack_usage = 15
 198:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 199:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_PROLOGUE();
  97               		.loc 1 199 0
  98 0022 81E0      		ldi r24,lo8(1)
  99 0024 8093 0000 		sts __avr_in_isr,r24
 100               	.LVL1:
 101               	.LBB33:
 102               	.LBB34:
 136:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp->counter == gptp->period) {
 103               		.loc 1 136 0
 104 0028 8091 0000 		lds r24,GPTD1+6
 105 002c 9091 0000 		lds r25,GPTD1+6+1
 106 0030 0196      		adiw r24,1
 107 0032 9093 0000 		sts GPTD1+6+1,r25
 108 0036 8093 0000 		sts GPTD1+6,r24
 137:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     gptp->counter = 0;
 109               		.loc 1 137 0
 110 003a 2091 0000 		lds r18,GPTD1+4
 111 003e 3091 0000 		lds r19,GPTD1+4+1
 112 0042 8217      		cp r24,r18
 113 0044 9307      		cpc r25,r19
 114 0046 01F0      		breq .L10
 115               	.L3:
 116               	.LVL2:
 117               	.LBE34:
 118               	.LBE33:
 200:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_serve_interrupt(&GPTD1);
 201:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_EPILOGUE();
 119               		.loc 1 201 0
 120 0048 1092 0000 		sts __avr_in_isr,__zero_reg__
 121 004c 0E94 0000 		call chSchIsPreemptionRequired
 122               	.LVL3:
 123 0050 8111      		cpse r24,__zero_reg__
 124               		.loc 1 201 0 is_stmt 0 discriminator 1
 125 0052 0E94 0000 		call chSchDoPreemption
 126               	.LVL4:
 127               	.L2:
 128               	/* epilogue start */
 202:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 129               		.loc 1 202 0 is_stmt 1
 130 0056 FF91      		pop r31
 131 0058 EF91      		pop r30
 132 005a BF91      		pop r27
 133 005c AF91      		pop r26
 134 005e 9F91      		pop r25
 135 0060 8F91      		pop r24
 136 0062 7F91      		pop r23
 137 0064 6F91      		pop r22
 138 0066 5F91      		pop r21
 139 0068 4F91      		pop r20
 140 006a 3F91      		pop r19
 141 006c 2F91      		pop r18
 142 006e 0F90      		pop r0
 143 0070 0FBE      		out __SREG__,r0
 144 0072 0F90      		pop r0
 145 0074 1F90      		pop r1
 146 0076 1895      		reti
 147               	.LVL5:
 148               	.L10:
 149               	.LBB38:
 150               	.LBB37:
 138:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     if (gptp->state == GPT_ONESHOT) {
 151               		.loc 1 138 0
 152 0078 1092 0000 		sts GPTD1+6+1,__zero_reg__
 153 007c 1092 0000 		sts GPTD1+6,__zero_reg__
 139:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****       gptp->state = GPT_READY;             /* Back in GPT_READY state.     */
 154               		.loc 1 139 0
 155 0080 8091 0000 		lds r24,GPTD1
 156 0084 8430      		cpi r24,lo8(4)
 157 0086 01F0      		breq .L11
 158               	.L4:
 143:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   }
 159               		.loc 1 143 0
 160 0088 E091 0000 		lds r30,GPTD1+8
 161 008c F091 0000 		lds r31,GPTD1+8+1
 162 0090 80E0      		ldi r24,lo8(GPTD1)
 163 0092 90E0      		ldi r25,hi8(GPTD1)
 164 0094 0995      		icall
 165               	.LVL6:
 166 0096 00C0      		rjmp .L3
 167               	.L11:
 140:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****       gpt_lld_stop_timer(gptp);            /* Timer automatically stopped. */
 168               		.loc 1 140 0
 169 0098 92E0      		ldi r25,lo8(2)
 170 009a 9093 0000 		sts GPTD1,r25
 171               	.LVL7:
 172               	.LBB35:
 173               	.LBB36:
 203:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 204:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 205:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM2 || defined(__DOXYGEN__)
 206:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 207:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TIM2 interrupt handler.
 208:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 209:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @isr
 210:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 211:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** OSAL_IRQ_HANDLER(TIMER2_COMPA_vect) {
 212:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 213:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_PROLOGUE();
 214:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_serve_interrupt(&GPTD2);
 215:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_EPILOGUE();
 216:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 217:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 218:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 219:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM3 || defined(__DOXYGEN__)
 220:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 221:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TIM3 interrupt handler.
 222:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 223:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @isr
 224:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 225:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** OSAL_IRQ_HANDLER(TIMER3_COMPA_vect) {
 226:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 227:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_PROLOGUE();
 228:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_serve_interrupt(&GPTD3);
 229:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_EPILOGUE();
 230:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 231:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 232:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 233:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM4 || defined(__DOXYGEN__)
 234:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 235:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TIM4 interrupt handler.
 236:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 237:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @isr
 238:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 239:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** OSAL_IRQ_HANDLER(TIMER4_COMPA_vect) {
 240:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 241:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_PROLOGUE();
 242:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_serve_interrupt(&GPTD4);
 243:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_EPILOGUE();
 244:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 245:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 246:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 247:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM5 || defined(__DOXYGEN__)
 248:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 249:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   TIM2 interrupt handler.
 250:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 251:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @isr
 252:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 253:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** OSAL_IRQ_HANDLER(TIMER5_COMPA_vect) {
 254:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 255:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_PROLOGUE();
 256:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_serve_interrupt(&GPTD5);
 257:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   OSAL_IRQ_EPILOGUE();
 258:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 259:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 260:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 261:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
 262:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /* Driver exported functions.                                               */
 263:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /*==========================================================================*/
 264:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 265:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 266:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Low level GPT driver initialization.
 267:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 268:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @notapi
 269:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 270:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** void gpt_lld_init(void) {
 271:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 272:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM1 || defined(__DOXYGEN__)
 273:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptObjectInit(&GPTD1);
 274:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 275:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM2 || defined(__DOXYGEN__)
 276:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptObjectInit(&GPTD2);
 277:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 278:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM3 || defined(__DOXYGEN__)
 279:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptObjectInit(&GPTD3);
 280:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 281:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM4 || defined(__DOXYGEN__)
 282:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptObjectInit(&GPTD4);
 283:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 284:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM5 || defined(__DOXYGEN__)
 285:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptObjectInit(&GPTD5);
 286:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 287:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 288:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 289:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 290:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Configures and activates the GPT peripheral.
 291:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 292:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp    pointer to the @p GPTDriver object
 293:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 294:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @notapi
 295:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 296:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** void gpt_lld_start(GPTDriver *gptp) {
 297:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 298:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   uint8_t psc;
 299:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 300:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp->state == GPT_STOP) {
 301:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     /* Clock activation.*/
 302:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   }
 303:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 304:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   /* Configuration.*/
 305:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 306:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #if AVR_GPT_USE_TIM2 || defined(__DOXYGEN__)
 307:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp == &GPTD2) {
 308:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     psc = prescaler(gptp->config->frequency, ratio_extended, PRESCALER_SIZE_EXTENDED);
 309:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     gptp->clock_source = clock_source_extended[psc] & 0x07;
 310:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     TCCR2A  = (1 << WGM21) | (0 << WGM20);
 311:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     TCCR2B  = (0 << WGM22);
 312:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     OCR2A = F_CPU / ratio_extended[psc] /gptp->config->frequency - 1;
 313:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     return;
 314:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   }
 315:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 316:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 317:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   uint8_t i = getTimerIndex(gptp);
 318:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   psc = prescaler(gptp->config->frequency, ratio_base, PRESCALER_SIZE_BASE);
 319:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->clock_source = clock_source_base[psc] & 0x07;
 320:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccra = (0 << WGM11)  |
 321:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****                          (0 << WGM10)  |
 322:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****                          (0 << COM1A1) |
 323:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****                          (0 << COM1A0) |
 324:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****                          (0 << COM1B1) |
 325:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****                          (0 << COM1B0);
 326:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccrb = (1 << WGM12);
 327:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].ocr1 = 0;
 328:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].ocr2 = F_CPU / ratio_base[psc] / gptp->config->frequency - 1;
 329:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 330:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 331:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 332:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Deactivates the GPT peripheral.
 333:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 334:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp    pointer to the @p GPTDriver object
 335:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 336:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @notapi
 337:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 338:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** void gpt_lld_stop(GPTDriver *gptp) {
 339:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 340:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   /* Nothing to be done */
 341:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   if (gptp->state == GPT_READY) {
 342:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     /* Clock de-activation.*/
 343:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   }
 344:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_stop_timer(gptp);
 345:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 346:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 347:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 348:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Starts the timer in continuous mode.
 349:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 350:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp      pointer to the @p GPTDriver object
 351:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] period    period in ticks
 352:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 353:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @notapi
 354:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 355:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** void gpt_lld_start_timer(GPTDriver *gptp, gptcnt_t period) {
 356:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 357:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->callback = gptp->config->callback;
 358:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->period = period;
 359:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->counter = 0;
 360:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 361:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   uint8_t i = getTimerIndex(gptp);
 362:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tcnt1 = 0;
 363:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tcnt2 = 0;
 364:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr  = (1 << OCF1A);
 365:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].timsk = (1 << OCIE1A);
 366:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccrb |= (gptp->clock_source << CS10);
 367:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 368:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 369:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 370:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Stops the timer.
 371:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 372:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp    pointer to the @p GPTDriver object
 373:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 374:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @notapi
 375:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 376:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** void gpt_lld_stop_timer(GPTDriver *gptp) {
 377:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 378:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   uint8_t i = getTimerIndex(gptp);
 379:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 380:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccrb &= ~((7 << CS10) | (1 << OCIE1A));
 174               		.loc 1 380 0
 175 009e 8091 8100 		lds r24,129
 176 00a2 887F      		andi r24,lo8(-8)
 177 00a4 8093 8100 		sts 129,r24
 381:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr = (1 << OCF1A);
 178               		.loc 1 381 0
 179 00a8 96BB      		out 0x16,r25
 180 00aa 00C0      		rjmp .L4
 181               	.LBE36:
 182               	.LBE35:
 183               	.LBE37:
 184               	.LBE38:
 185               		.cfi_endproc
 186               	.LFE245:
 188               		.section	.text.gpt_lld_init,"ax",@progbits
 189               	.global	gpt_lld_init
 191               	gpt_lld_init:
 192               	.LFB246:
 270:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 193               		.loc 1 270 0
 194               		.cfi_startproc
 195               	/* prologue: function */
 196               	/* frame size = 0 */
 197               	/* stack size = 0 */
 198               	.L__stack_usage = 0
 273:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** #endif
 199               		.loc 1 273 0
 200 0000 80E0      		ldi r24,lo8(GPTD1)
 201 0002 90E0      		ldi r25,hi8(GPTD1)
 202 0004 0C94 0000 		jmp gptObjectInit
 203               	.LVL8:
 204               		.cfi_endproc
 205               	.LFE246:
 207               		.section	.text.gpt_lld_start,"ax",@progbits
 208               	.global	gpt_lld_start
 210               	gpt_lld_start:
 211               	.LFB247:
 296:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 212               		.loc 1 296 0
 213               		.cfi_startproc
 214               	.LVL9:
 215 0000 2F92      		push r2
 216               	.LCFI14:
 217               		.cfi_def_cfa_offset 3
 218               		.cfi_offset 2, -2
 219 0002 3F92      		push r3
 220               	.LCFI15:
 221               		.cfi_def_cfa_offset 4
 222               		.cfi_offset 3, -3
 223 0004 4F92      		push r4
 224               	.LCFI16:
 225               		.cfi_def_cfa_offset 5
 226               		.cfi_offset 4, -4
 227 0006 5F92      		push r5
 228               	.LCFI17:
 229               		.cfi_def_cfa_offset 6
 230               		.cfi_offset 5, -5
 231 0008 6F92      		push r6
 232               	.LCFI18:
 233               		.cfi_def_cfa_offset 7
 234               		.cfi_offset 6, -6
 235 000a 7F92      		push r7
 236               	.LCFI19:
 237               		.cfi_def_cfa_offset 8
 238               		.cfi_offset 7, -7
 239 000c 8F92      		push r8
 240               	.LCFI20:
 241               		.cfi_def_cfa_offset 9
 242               		.cfi_offset 8, -8
 243 000e 9F92      		push r9
 244               	.LCFI21:
 245               		.cfi_def_cfa_offset 10
 246               		.cfi_offset 9, -9
 247 0010 AF92      		push r10
 248               	.LCFI22:
 249               		.cfi_def_cfa_offset 11
 250               		.cfi_offset 10, -10
 251 0012 BF92      		push r11
 252               	.LCFI23:
 253               		.cfi_def_cfa_offset 12
 254               		.cfi_offset 11, -11
 255 0014 CF92      		push r12
 256               	.LCFI24:
 257               		.cfi_def_cfa_offset 13
 258               		.cfi_offset 12, -12
 259 0016 DF92      		push r13
 260               	.LCFI25:
 261               		.cfi_def_cfa_offset 14
 262               		.cfi_offset 13, -13
 263 0018 EF92      		push r14
 264               	.LCFI26:
 265               		.cfi_def_cfa_offset 15
 266               		.cfi_offset 14, -14
 267 001a FF92      		push r15
 268               	.LCFI27:
 269               		.cfi_def_cfa_offset 16
 270               		.cfi_offset 15, -15
 271 001c 0F93      		push r16
 272               	.LCFI28:
 273               		.cfi_def_cfa_offset 17
 274               		.cfi_offset 16, -16
 275 001e 1F93      		push r17
 276               	.LCFI29:
 277               		.cfi_def_cfa_offset 18
 278               		.cfi_offset 17, -17
 279 0020 CF93      		push r28
 280               	.LCFI30:
 281               		.cfi_def_cfa_offset 19
 282               		.cfi_offset 28, -18
 283 0022 DF93      		push r29
 284               	.LCFI31:
 285               		.cfi_def_cfa_offset 20
 286               		.cfi_offset 29, -19
 287               	/* prologue: function */
 288               	/* frame size = 0 */
 289               	/* stack size = 18 */
 290               	.L__stack_usage = 18
 291 0024 1C01      		movw r2,r24
 300:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     /* Clock activation.*/
 292               		.loc 1 300 0
 293 0026 DC01      		movw r26,r24
 294 0028 8C91      		ld r24,X
 295               	.LVL10:
 296               	.LBB39:
 297               	.LBB40:
 165:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 298               		.loc 1 165 0
 299 002a 01E0      		ldi r16,lo8(1)
 300 002c B0E0      		ldi r27,lo8(GPTD1)
 301 002e 2B16      		cp r2,r27
 302 0030 B0E0      		ldi r27,hi8(GPTD1)
 303 0032 3B06      		cpc r3,r27
 304 0034 01F4      		brne .+2
 305 0036 00C0      		rjmp .L21
 306               	.L14:
 307 0038 0195      		neg r16
 308               	.LVL11:
 309               	.LBE40:
 310               	.LBE39:
 318:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->clock_source = clock_source_base[psc] & 0x07;
 311               		.loc 1 318 0
 312 003a D101      		movw r26,r2
 313 003c 1196      		adiw r26,1
 314 003e ED91      		ld r30,X+
 315 0040 FC91      		ld r31,X
 316 0042 1297      		sbiw r26,1+1
 317 0044 4080      		ld r4,Z
 318 0046 5180      		ldd r5,Z+1
 319 0048 6280      		ldd r6,Z+2
 320 004a 7380      		ldd r7,Z+3
 321 004c 6624      		clr r6
 322 004e 7724      		clr r7
 323 0050 C0E0      		ldi r28,lo8(ratio_base)
 324 0052 D0E0      		ldi r29,hi8(ratio_base)
 325               	.LBB42:
 326               	.LBB43:
 119:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     uint32_t result = F_CPU / ratio[i] / freq;
 327               		.loc 1 119 0
 328 0054 10E0      		ldi r17,0
 329               	.LVL12:
 330               	.L18:
 331               	.LBB44:
 120:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     if (result > 256UL)
 332               		.loc 1 120 0
 333 0056 C990      		ld r12,Y+
 334 0058 D990      		ld r13,Y+
 335 005a E12C      		mov r14,__zero_reg__
 336 005c F12C      		mov r15,__zero_reg__
 337 005e 60E0      		ldi r22,0
 338 0060 74E2      		ldi r23,lo8(36)
 339 0062 84EF      		ldi r24,lo8(-12)
 340 0064 90E0      		ldi r25,0
 341 0066 A701      		movw r20,r14
 342 0068 9601      		movw r18,r12
 343 006a 0E94 0000 		call __udivmodsi4
 344 006e CA01      		movw r24,r20
 345 0070 B901      		movw r22,r18
 346 0072 A301      		movw r20,r6
 347 0074 9201      		movw r18,r4
 348 0076 0E94 0000 		call __udivmodsi4
 349 007a 4901      		movw r8,r18
 350 007c 5A01      		movw r10,r20
 351               	.LVL13:
 121:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****        return i - 1;
 352               		.loc 1 121 0
 353 007e 2130      		cpi r18,1
 354 0080 3140      		sbci r19,1
 355 0082 4105      		cpc r20,__zero_reg__
 356 0084 5105      		cpc r21,__zero_reg__
 357 0086 00F0      		brlo .+2
 358 0088 00C0      		rjmp .L22
 123:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****       return i;
 359               		.loc 1 123 0
 360 008a A701      		movw r20,r14
 361 008c 9601      		movw r18,r12
 362 008e C301      		movw r24,r6
 363 0090 B201      		movw r22,r4
 364 0092 0E94 0000 		call __mulsi3
 365 0096 9B01      		movw r18,r22
 366 0098 AC01      		movw r20,r24
 367 009a C501      		movw r24,r10
 368 009c B401      		movw r22,r8
 369 009e 0E94 0000 		call __mulsi3
 370 00a2 6115      		cp r22,__zero_reg__
 371 00a4 7442      		sbci r23,36
 372 00a6 844F      		sbci r24,-12
 373 00a8 9105      		cpc r25,__zero_reg__
 374 00aa 01F4      		brne .+2
 375 00ac 00C0      		rjmp .L20
 376               	.LBE44:
 119:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     uint32_t result = F_CPU / ratio[i] / freq;
 377               		.loc 1 119 0
 378 00ae 1F5F      		subi r17,lo8(-(1))
 379               	.LVL14:
 380 00b0 1530      		cpi r17,lo8(5)
 381 00b2 01F4      		brne .L18
 382 00b4 20E0      		ldi r18,0
 383 00b6 8FEF      		ldi r24,lo8(-1)
 384 00b8 90E0      		ldi r25,0
 385               	.LVL15:
 386               	.L16:
 387               	.LBE43:
 388               	.LBE42:
 319:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccra = (0 << WGM11)  |
 389               		.loc 1 319 0
 390 00ba D101      		movw r26,r2
 391 00bc 1396      		adiw r26,3
 392 00be 2C93      		st X,r18
 320:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****                          (0 << WGM10)  |
 393               		.loc 1 320 0
 394 00c0 E02F      		mov r30,r16
 395 00c2 F0E0      		ldi r31,0
 396 00c4 E295      		swap r30
 397 00c6 F295      		swap r31
 398 00c8 F07F      		andi r31,0xf0
 399 00ca FE27      		eor r31,r30
 400 00cc E07F      		andi r30,0xf0
 401 00ce FE27      		eor r31,r30
 402 00d0 E050      		subi r30,lo8(-(regs_table))
 403 00d2 F040      		sbci r31,hi8(-(regs_table))
 404 00d4 A081      		ld r26,Z
 405 00d6 B181      		ldd r27,Z+1
 406 00d8 1C92      		st X,__zero_reg__
 326:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].ocr1 = 0;
 407               		.loc 1 326 0
 408 00da A281      		ldd r26,Z+2
 409 00dc B381      		ldd r27,Z+3
 410 00de 28E0      		ldi r18,lo8(8)
 411 00e0 2C93      		st X,r18
 327:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].ocr2 = F_CPU / ratio_base[psc] / gptp->config->frequency - 1;
 412               		.loc 1 327 0
 413 00e2 A481      		ldd r26,Z+4
 414 00e4 B581      		ldd r27,Z+5
 415 00e6 1C92      		st X,__zero_reg__
 328:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 416               		.loc 1 328 0
 417 00e8 C681      		ldd r28,Z+6
 418 00ea D781      		ldd r29,Z+7
 419 00ec 880F      		lsl r24
 420 00ee 991F      		rol r25
 421 00f0 FC01      		movw r30,r24
 422 00f2 E050      		subi r30,lo8(-(ratio_base))
 423 00f4 F040      		sbci r31,hi8(-(ratio_base))
 424 00f6 2081      		ld r18,Z
 425 00f8 3181      		ldd r19,Z+1
 426 00fa 40E0      		ldi r20,0
 427 00fc 50E0      		ldi r21,0
 428 00fe 60E0      		ldi r22,0
 429 0100 74E2      		ldi r23,lo8(36)
 430 0102 84EF      		ldi r24,lo8(-12)
 431 0104 90E0      		ldi r25,0
 432 0106 0E94 0000 		call __udivmodsi4
 433 010a CA01      		movw r24,r20
 434 010c B901      		movw r22,r18
 435 010e D101      		movw r26,r2
 436 0110 1196      		adiw r26,1
 437 0112 ED91      		ld r30,X+
 438 0114 FC91      		ld r31,X
 439 0116 1297      		sbiw r26,1+1
 440 0118 2081      		ld r18,Z
 441 011a 3181      		ldd r19,Z+1
 442 011c 4281      		ldd r20,Z+2
 443 011e 5381      		ldd r21,Z+3
 444 0120 0E94 0000 		call __udivmodsi4
 445 0124 2150      		subi r18,lo8(-(-1))
 446 0126 2883      		st Y,r18
 447               	/* epilogue start */
 329:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 448               		.loc 1 329 0
 449 0128 DF91      		pop r29
 450 012a CF91      		pop r28
 451 012c 1F91      		pop r17
 452 012e 0F91      		pop r16
 453 0130 FF90      		pop r15
 454 0132 EF90      		pop r14
 455 0134 DF90      		pop r13
 456 0136 CF90      		pop r12
 457 0138 BF90      		pop r11
 458 013a AF90      		pop r10
 459 013c 9F90      		pop r9
 460 013e 8F90      		pop r8
 461 0140 7F90      		pop r7
 462 0142 6F90      		pop r6
 463 0144 5F90      		pop r5
 464 0146 4F90      		pop r4
 465 0148 3F90      		pop r3
 466 014a 2F90      		pop r2
 467               	.LVL16:
 468 014c 0895      		ret
 469               	.LVL17:
 470               	.L22:
 471 014e 1150      		subi r17,lo8(-(-1))
 472               	.LVL18:
 473               	.L20:
 474 0150 812F      		mov r24,r17
 475 0152 90E0      		ldi r25,0
 476 0154 FC01      		movw r30,r24
 477 0156 E050      		subi r30,lo8(-(clock_source_base))
 478 0158 F040      		sbci r31,hi8(-(clock_source_base))
 479 015a 2081      		ld r18,Z
 480 015c 2770      		andi r18,lo8(7)
 481 015e 00C0      		rjmp .L16
 482               	.LVL19:
 483               	.L21:
 484               	.LBB45:
 485               	.LBB41:
 165:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   else index++;
 486               		.loc 1 165 0
 487 0160 00E0      		ldi r16,0
 488 0162 00C0      		rjmp .L14
 489               	.LBE41:
 490               	.LBE45:
 491               		.cfi_endproc
 492               	.LFE247:
 494               		.section	.text.gpt_lld_stop,"ax",@progbits
 495               	.global	gpt_lld_stop
 497               	gpt_lld_stop:
 498               	.LFB248:
 338:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 499               		.loc 1 338 0
 500               		.cfi_startproc
 501               	.LVL20:
 502               	/* prologue: function */
 503               	/* frame size = 0 */
 504               	/* stack size = 0 */
 505               	.L__stack_usage = 0
 341:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****     /* Clock de-activation.*/
 506               		.loc 1 341 0
 507 0000 FC01      		movw r30,r24
 508 0002 2081      		ld r18,Z
 509               	.LVL21:
 510               	.LBB46:
 511               	.LBB47:
 380:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr = (1 << OCF1A);
 512               		.loc 1 380 0
 513 0004 E1E0      		ldi r30,lo8(1)
 514 0006 8050      		subi r24,lo8(GPTD1)
 515 0008 9040      		sbci r25,hi8(GPTD1)
 516 000a 01F0      		breq .L25
 517               	.L24:
 518 000c E195      		neg r30
 519 000e F0E0      		ldi r31,0
 520 0010 E295      		swap r30
 521 0012 F295      		swap r31
 522 0014 F07F      		andi r31,0xf0
 523 0016 FE27      		eor r31,r30
 524 0018 E07F      		andi r30,0xf0
 525 001a FE27      		eor r31,r30
 526               	.LVL22:
 527 001c E050      		subi r30,lo8(-(regs_table))
 528 001e F040      		sbci r31,hi8(-(regs_table))
 529 0020 A281      		ldd r26,Z+2
 530 0022 B381      		ldd r27,Z+3
 531 0024 8C91      		ld r24,X
 532 0026 887F      		andi r24,lo8(-8)
 533 0028 8C93      		st X,r24
 534               		.loc 1 381 0
 535 002a 0484      		ldd __tmp_reg__,Z+12
 536 002c F585      		ldd r31,Z+13
 537 002e E02D      		mov r30,__tmp_reg__
 538 0030 82E0      		ldi r24,lo8(2)
 539 0032 8083      		st Z,r24
 540               	.LVL23:
 541 0034 0895      		ret
 542               	.LVL24:
 543               	.L25:
 380:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr = (1 << OCF1A);
 544               		.loc 1 380 0
 545 0036 E0E0      		ldi r30,0
 546 0038 00C0      		rjmp .L24
 547               	.LBE47:
 548               	.LBE46:
 549               		.cfi_endproc
 550               	.LFE248:
 552               		.section	.text.gpt_lld_start_timer,"ax",@progbits
 553               	.global	gpt_lld_start_timer
 555               	gpt_lld_start_timer:
 556               	.LFB249:
 355:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 557               		.loc 1 355 0
 558               		.cfi_startproc
 559               	.LVL25:
 560 0000 CF93      		push r28
 561               	.LCFI32:
 562               		.cfi_def_cfa_offset 3
 563               		.cfi_offset 28, -2
 564 0002 DF93      		push r29
 565               	.LCFI33:
 566               		.cfi_def_cfa_offset 4
 567               		.cfi_offset 29, -3
 568               	/* prologue: function */
 569               	/* frame size = 0 */
 570               	/* stack size = 2 */
 571               	.L__stack_usage = 2
 572 0004 DC01      		movw r26,r24
 357:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->period = period;
 573               		.loc 1 357 0
 574 0006 1196      		adiw r26,1
 575 0008 ED91      		ld r30,X+
 576 000a FC91      		ld r31,X
 577 000c 1297      		sbiw r26,1+1
 578 000e 8481      		ldd r24,Z+4
 579 0010 9581      		ldd r25,Z+5
 580               	.LVL26:
 581 0012 1996      		adiw r26,8+1
 582 0014 9C93      		st X,r25
 583 0016 8E93      		st -X,r24
 584 0018 1897      		sbiw r26,8
 358:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->counter = 0;
 585               		.loc 1 358 0
 586 001a 1596      		adiw r26,4+1
 587 001c 7C93      		st X,r23
 588 001e 6E93      		st -X,r22
 589 0020 1497      		sbiw r26,4
 359:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 590               		.loc 1 359 0
 591 0022 1796      		adiw r26,6+1
 592 0024 1C92      		st X,__zero_reg__
 593 0026 1E92      		st -X,__zero_reg__
 594 0028 1697      		sbiw r26,6
 595               	.LVL27:
 362:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tcnt2 = 0;
 596               		.loc 1 362 0
 597 002a E1E0      		ldi r30,lo8(1)
 598 002c 80E0      		ldi r24,hi8(GPTD1)
 599 002e A030      		cpi r26,lo8(GPTD1)
 600 0030 B807      		cpc r27,r24
 601 0032 01F0      		breq .L28
 602               	.L27:
 603 0034 E195      		neg r30
 604 0036 F0E0      		ldi r31,0
 605 0038 E295      		swap r30
 606 003a F295      		swap r31
 607 003c F07F      		andi r31,0xf0
 608 003e FE27      		eor r31,r30
 609 0040 E07F      		andi r30,0xf0
 610 0042 FE27      		eor r31,r30
 611 0044 E050      		subi r30,lo8(-(regs_table))
 612 0046 F040      		sbci r31,hi8(-(regs_table))
 613 0048 C085      		ldd r28,Z+8
 614 004a D185      		ldd r29,Z+9
 615 004c 1882      		st Y,__zero_reg__
 363:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr  = (1 << OCF1A);
 616               		.loc 1 363 0
 617 004e C285      		ldd r28,Z+10
 618 0050 D385      		ldd r29,Z+11
 619 0052 1882      		st Y,__zero_reg__
 364:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].timsk = (1 << OCIE1A);
 620               		.loc 1 364 0
 621 0054 C485      		ldd r28,Z+12
 622 0056 D585      		ldd r29,Z+13
 623 0058 82E0      		ldi r24,lo8(2)
 624 005a 8883      		st Y,r24
 365:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccrb |= (gptp->clock_source << CS10);
 625               		.loc 1 365 0
 626 005c 8093 6F00 		sts 111,r24
 366:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 627               		.loc 1 366 0
 628 0060 0280      		ldd __tmp_reg__,Z+2
 629 0062 F381      		ldd r31,Z+3
 630 0064 E02D      		mov r30,__tmp_reg__
 631 0066 9081      		ld r25,Z
 632 0068 1396      		adiw r26,3
 633 006a 8C91      		ld r24,X
 634 006c 892B      		or r24,r25
 635 006e 8083      		st Z,r24
 636               	/* epilogue start */
 367:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 637               		.loc 1 367 0
 638 0070 DF91      		pop r29
 639 0072 CF91      		pop r28
 640 0074 0895      		ret
 641               	.L28:
 362:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tcnt2 = 0;
 642               		.loc 1 362 0
 643 0076 E0E0      		ldi r30,0
 644 0078 00C0      		rjmp .L27
 645               		.cfi_endproc
 646               	.LFE249:
 648               		.section	.text.gpt_lld_stop_timer,"ax",@progbits
 649               	.global	gpt_lld_stop_timer
 651               	gpt_lld_stop_timer:
 652               	.LFB250:
 376:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 653               		.loc 1 376 0
 654               		.cfi_startproc
 655               	.LVL28:
 656               	/* prologue: function */
 657               	/* frame size = 0 */
 658               	/* stack size = 0 */
 659               	.L__stack_usage = 0
 380:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr = (1 << OCF1A);
 660               		.loc 1 380 0
 661 0000 E1E0      		ldi r30,lo8(1)
 662 0002 8050      		subi r24,lo8(GPTD1)
 663 0004 9040      		sbci r25,hi8(GPTD1)
 664 0006 01F0      		breq .L31
 665               	.L30:
 666 0008 E195      		neg r30
 667 000a F0E0      		ldi r31,0
 668 000c E295      		swap r30
 669 000e F295      		swap r31
 670 0010 F07F      		andi r31,0xf0
 671 0012 FE27      		eor r31,r30
 672 0014 E07F      		andi r30,0xf0
 673 0016 FE27      		eor r31,r30
 674               	.LVL29:
 675 0018 E050      		subi r30,lo8(-(regs_table))
 676 001a F040      		sbci r31,hi8(-(regs_table))
 677 001c A281      		ldd r26,Z+2
 678 001e B381      		ldd r27,Z+3
 679 0020 8C91      		ld r24,X
 680 0022 887F      		andi r24,lo8(-8)
 681 0024 8C93      		st X,r24
 682               		.loc 1 381 0
 683 0026 0484      		ldd __tmp_reg__,Z+12
 684 0028 F585      		ldd r31,Z+13
 685 002a E02D      		mov r30,__tmp_reg__
 686 002c 82E0      		ldi r24,lo8(2)
 687 002e 8083      		st Z,r24
 688 0030 0895      		ret
 689               	.LVL30:
 690               	.L31:
 380:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr = (1 << OCF1A);
 691               		.loc 1 380 0
 692 0032 E0E0      		ldi r30,0
 693 0034 00C0      		rjmp .L30
 694               		.cfi_endproc
 695               	.LFE250:
 697               		.section	.text.gpt_lld_polled_delay,"ax",@progbits
 698               	.global	gpt_lld_polled_delay
 700               	gpt_lld_polled_delay:
 701               	.LFB251:
 382:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 383:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 384:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** /**
 385:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @brief   Starts the timer in one shot mode and waits for completion.
 386:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @details This function specifically polls the timer waiting for completion
 387:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *          in order to not have extra delays caused by interrupt servicing,
 388:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *          this function is only recommended for short delays.
 389:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 390:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] gptp      pointer to the @p GPTDriver object
 391:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @param[in] interval  time interval in ticks
 392:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  *
 393:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  * @notapi
 394:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****  */
 395:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** void gpt_lld_polled_delay(GPTDriver *gptp, gptcnt_t interval) {
 702               		.loc 1 395 0
 703               		.cfi_startproc
 704               	.LVL31:
 705 0000 CF93      		push r28
 706               	.LCFI34:
 707               		.cfi_def_cfa_offset 3
 708               		.cfi_offset 28, -2
 709 0002 DF93      		push r29
 710               	.LCFI35:
 711               		.cfi_def_cfa_offset 4
 712               		.cfi_offset 29, -3
 713               	/* prologue: function */
 714               	/* frame size = 0 */
 715               	/* stack size = 2 */
 716               	.L__stack_usage = 2
 717 0004 FC01      		movw r30,r24
 718               	.LVL32:
 719               	.LBB48:
 720               	.LBB49:
 357:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->period = period;
 721               		.loc 1 357 0
 722 0006 A181      		ldd r26,Z+1
 723 0008 B281      		ldd r27,Z+2
 724 000a 1496      		adiw r26,4
 725 000c 8D91      		ld r24,X+
 726 000e 9C91      		ld r25,X
 727 0010 1597      		sbiw r26,4+1
 728               	.LVL33:
 729 0012 9187      		std Z+9,r25
 730 0014 8087      		std Z+8,r24
 358:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->counter = 0;
 731               		.loc 1 358 0
 732 0016 7583      		std Z+5,r23
 733 0018 6483      		std Z+4,r22
 359:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 734               		.loc 1 359 0
 735 001a 1782      		std Z+7,__zero_reg__
 736 001c 1682      		std Z+6,__zero_reg__
 737               	.LVL34:
 362:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tcnt2 = 0;
 738               		.loc 1 362 0
 739 001e A1E0      		ldi r26,lo8(1)
 740 0020 80E0      		ldi r24,hi8(GPTD1)
 741 0022 E030      		cpi r30,lo8(GPTD1)
 742 0024 F807      		cpc r31,r24
 743 0026 01F0      		breq .L36
 744               	.L33:
 745 0028 A195      		neg r26
 746 002a B0E0      		ldi r27,0
 747 002c A295      		swap r26
 748 002e B295      		swap r27
 749 0030 B07F      		andi r27,0xf0
 750 0032 BA27      		eor r27,r26
 751 0034 A07F      		andi r26,0xf0
 752 0036 BA27      		eor r27,r26
 753 0038 A050      		subi r26,lo8(-(regs_table))
 754 003a B040      		sbci r27,hi8(-(regs_table))
 755 003c 1896      		adiw r26,8
 756 003e CD91      		ld r28,X+
 757 0040 DC91      		ld r29,X
 758 0042 1997      		sbiw r26,8+1
 759 0044 1882      		st Y,__zero_reg__
 363:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tifr  = (1 << OCF1A);
 760               		.loc 1 363 0
 761 0046 1A96      		adiw r26,10
 762 0048 CD91      		ld r28,X+
 763 004a DC91      		ld r29,X
 764 004c 1B97      		sbiw r26,10+1
 765 004e 1882      		st Y,__zero_reg__
 364:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].timsk = (1 << OCIE1A);
 766               		.loc 1 364 0
 767 0050 1C96      		adiw r26,12
 768 0052 CD91      		ld r28,X+
 769 0054 DC91      		ld r29,X
 770 0056 1D97      		sbiw r26,12+1
 771 0058 82E0      		ldi r24,lo8(2)
 772 005a 8883      		st Y,r24
 365:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tccrb |= (gptp->clock_source << CS10);
 773               		.loc 1 365 0
 774 005c 8093 6F00 		sts 111,r24
 366:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 775               		.loc 1 366 0
 776 0060 1296      		adiw r26,2
 777 0062 0D90      		ld __tmp_reg__,X+
 778 0064 BC91      		ld r27,X
 779 0066 A02D      		mov r26,__tmp_reg__
 780 0068 9C91      		ld r25,X
 781 006a 8381      		ldd r24,Z+3
 782 006c 892B      		or r24,r25
 783 006e 8C93      		st X,r24
 784               	.L34:
 785               	.LBE49:
 786               	.LBE48:
 396:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** 
 397:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gptp->callback = gpt_lld_dummy_callback;
 398:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   gpt_lld_start_timer(gptp, interval);
 399:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   /* FIX */
 400:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   while (gptp->state != GPT_READY) {}
 787               		.loc 1 400 0 discriminator 1
 788 0070 9081      		ld r25,Z
 789 0072 9230      		cpi r25,lo8(2)
 790 0074 01F4      		brne .L34
 791               	/* epilogue start */
 401:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c **** }
 792               		.loc 1 401 0
 793 0076 DF91      		pop r29
 794 0078 CF91      		pop r28
 795 007a 0895      		ret
 796               	.L36:
 797               	.LBB51:
 798               	.LBB50:
 362:../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.c ****   *regs_table[i].tcnt2 = 0;
 799               		.loc 1 362 0
 800 007c A0E0      		ldi r26,0
 801 007e 00C0      		rjmp .L33
 802               	.LBE50:
 803               	.LBE51:
 804               		.cfi_endproc
 805               	.LFE251:
 807               		.section	.rodata.clock_source_base,"a",@progbits
 810               	clock_source_base:
 811 0000 05        		.byte	5
 812 0001 04        		.byte	4
 813 0002 03        		.byte	3
 814 0003 02        		.byte	2
 815 0004 01        		.byte	1
 816               		.section	.data.ratio_base,"aw",@progbits
 819               	ratio_base:
 820 0000 0004      		.word	1024
 821 0002 0001      		.word	256
 822 0004 4000      		.word	64
 823 0006 0800      		.word	8
 824 0008 0100      		.word	1
 825               		.comm	GPTD1,10,1
 826               	.global	regs_table
 827               		.section	.rodata.regs_table,"a",@progbits
 830               	regs_table:
 831 0000 8000      		.word	128
 832 0002 8100      		.word	129
 833 0004 8900      		.word	137
 834 0006 8800      		.word	136
 835 0008 8500      		.word	133
 836 000a 8400      		.word	132
 837 000c 3600      		.word	54
 838 000e 6F00      		.word	111
 839               		.text
 840               	.Letext0:
 841               		.file 2 "/usr/lib/avr/include/stdint.h"
 842               		.file 3 "../../../os/common/ports/AVR/compilers/GCC/chtypes.h"
 843               		.file 4 "../../../os/rt/include/chearly.h"
 844               		.file 5 "../../../os/rt/include/chobjects.h"
 845               		.file 6 "../../../os/rt/include/chrfcu.h"
 846               		.file 7 "../../../os/rt/include/chdebug.h"
 847               		.file 8 "../../../os/rt/include/chtime.h"
 848               		.file 9 "../../../os/rt/include/chlists.h"
 849               		.file 10 "../../../os/common/ports/AVR/chcore.h"
 850               		.file 11 "../../../os/rt/include/chsem.h"
 851               		.file 12 "../../../os/rt/include/chmtx.h"
 852               		.file 13 "../../../os/hal/include/hal_gpt.h"
 853               		.file 14 "../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_gpt_lld.h"
 854               		.file 15 "../../../os/rt/include/chschd.h"
 855               		.file 16 "../../../os/rt/include/chsys.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 hal_gpt_lld.c
     /tmp/cctjHIrU.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/cctjHIrU.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/cctjHIrU.s:4      *ABS*:000000000000003f __SREG__
     /tmp/cctjHIrU.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/cctjHIrU.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/cctjHIrU.s:12     .text.gpt_lld_dummy_callback:0000000000000000 gpt_lld_dummy_callback
     /tmp/cctjHIrU.s:29     .text.__vector_11:0000000000000000 __vector_11
                            *COM*:000000000000000a GPTD1
     /tmp/cctjHIrU.s:191    .text.gpt_lld_init:0000000000000000 gpt_lld_init
     /tmp/cctjHIrU.s:210    .text.gpt_lld_start:0000000000000000 gpt_lld_start
     /tmp/cctjHIrU.s:819    .data.ratio_base:0000000000000000 ratio_base
     /tmp/cctjHIrU.s:830    .rodata.regs_table:0000000000000000 regs_table
     /tmp/cctjHIrU.s:810    .rodata.clock_source_base:0000000000000000 clock_source_base
     /tmp/cctjHIrU.s:497    .text.gpt_lld_stop:0000000000000000 gpt_lld_stop
     /tmp/cctjHIrU.s:555    .text.gpt_lld_start_timer:0000000000000000 gpt_lld_start_timer
     /tmp/cctjHIrU.s:651    .text.gpt_lld_stop_timer:0000000000000000 gpt_lld_stop_timer
     /tmp/cctjHIrU.s:700    .text.gpt_lld_polled_delay:0000000000000000 gpt_lld_polled_delay

UNDEFINED SYMBOLS
__avr_in_isr
chSchIsPreemptionRequired
chSchDoPreemption
gptObjectInit
__udivmodsi4
__mulsi3
__do_copy_data
__do_clear_bss
