   1               		.file	"main.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               		.section	.text.startup.main,"ax",@progbits
  11               	.global	main
  13               	main:
  14               	.LFB241:
  15               		.file 1 "main.c"
   1:main.c        **** #include <avr/io.h>
   2:main.c        **** 
   3:main.c        **** /* Os próximos dois includes são necessários quando se usa interrupçoes */
   4:main.c        **** #include <avr/cpufunc.h>
   5:main.c        **** #include <avr/interrupt.h>
   6:main.c        **** 
   7:main.c        **** /*O include a seguir será necessário para fazer manipulação de bits nos registradores*/
   8:main.c        **** #include <stdint.h>
   9:main.c        **** 
  10:main.c        **** #include "ch.h"
  11:main.c        **** #include "hal.h"
  12:main.c        **** 
  13:main.c        **** #define Frequencia F_CPU/1024
  14:main.c        **** #define PWM_periodo    15625            
  15:main.c        **** #define pwm_periodo_cb NULL
  16:main.c        **** 
  17:main.c        **** PWMConfig   driver_config = {Frequencia,        
  18:main.c        ****                              PWM_periodo,           // PWM_frequencia = Frequencia/PWM_periodo. Nes
  19:main.c        ****                              pwm_periodo_cb, {{PWM_OUTPUT_ACTIVE_HIGH,0},  
  20:main.c        ****                                               {PWM_OUTPUT_ACTIVE_LOW,0}}
  21:main.c        **** }; 
  22:main.c        **** 
  23:main.c        **** 
  24:main.c        **** int main(void) {
  16               		.loc 1 24 0
  17               		.cfi_startproc
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  25:main.c        ****   halInit();
  22               		.loc 1 25 0
  23 0000 0E94 0000 		call halInit
  24               	.LVL0:
  26:main.c        ****   chSysInit();
  25               		.loc 1 26 0
  26 0004 0E94 0000 		call chSysInit
  27               	.LVL1:
  27:main.c        ****   DDRB |= (1 << DDB1); // Ou DDRB |= (1 << PB5)           // Configurando os pinos como saída
  28               		.loc 1 27 0
  29 0008 219A      		sbi 0x4,1
  28:main.c        ****   PORTB |= (1 << PB1); // Definindo os pinos como nível lógico alto 
  30               		.loc 1 28 0
  31 000a 299A      		sbi 0x5,1
  29:main.c        **** 
  30:main.c        ****   //palSetPadMode(IOPORT2, 1, PAL_MODE_OUTPUT_PUSHPULL);
  31:main.c        ****   //palWritePad(IOPORT2, 1, PAL_HIGH);
  32:main.c        ****   pwmStart(&PWMD1,&driver_config);
  32               		.loc 1 32 0
  33 000c 60E0      		ldi r22,lo8(driver_config)
  34 000e 70E0      		ldi r23,hi8(driver_config)
  35 0010 80E0      		ldi r24,lo8(PWMD1)
  36 0012 90E0      		ldi r25,hi8(PWMD1)
  37 0014 0E94 0000 		call pwmStart
  38               	.LVL2:
  33:main.c        ****   pwmEnableChannel(&PWMD1, 0, PWM_PERCENTAGE_TO_WIDTH(&PWMD1, 5000));
  39               		.loc 1 33 0
  40 0018 4091 0000 		lds r20,PWMD1+3
  41 001c 5091 0000 		lds r21,PWMD1+3+1
  42 0020 88E8      		ldi r24,lo8(-120)
  43 0022 93E1      		ldi r25,lo8(19)
  44 0024 489F      		mul r20,r24
  45 0026 9001      		movw r18,r0
  46 0028 499F      		mul r20,r25
  47 002a 300D      		add r19,r0
  48 002c 589F      		mul r21,r24
  49 002e 300D      		add r19,r0
  50 0030 1124      		clr r1
  51 0032 3295      		swap r19
  52 0034 2295      		swap r18
  53 0036 2F70      		andi r18,0x0f
  54 0038 2327      		eor r18,r19
  55 003a 3F70      		andi r19,0x0f
  56 003c 2327      		eor r18,r19
  57 003e A7E4      		ldi r26,lo8(71)
  58 0040 B3E0      		ldi r27,lo8(3)
  59 0042 0E94 0000 		call __umulhisi3
  60 0046 AC01      		movw r20,r24
  61 0048 5695      		lsr r21
  62 004a 4795      		ror r20
  63 004c 5695      		lsr r21
  64 004e 4795      		ror r20
  65 0050 5695      		lsr r21
  66 0052 4795      		ror r20
  67 0054 60E0      		ldi r22,0
  68 0056 80E0      		ldi r24,lo8(PWMD1)
  69 0058 90E0      		ldi r25,hi8(PWMD1)
  70 005a 0E94 0000 		call pwmEnableChannel
  71               	.LVL3:
  72               	.L2:
  34:main.c        **** 
  35:main.c        ****   while (true) {
  36:main.c        ****     chThdSleepMilliseconds(1000);
  73               		.loc 1 36 0 discriminator 1
  74 005e 88E0      		ldi r24,lo8(8)
  75 0060 9DE3      		ldi r25,lo8(61)
  76 0062 0E94 0000 		call chThdSleep
  77               	.LVL4:
  78 0066 00C0      		rjmp .L2
  79               		.cfi_endproc
  80               	.LFE241:
  82               	.global	driver_config
  83               		.section	.data.driver_config,"aw",@progbits
  86               	driver_config:
  87 0000 09        		.byte	9
  88 0001 3D        		.byte	61
  89 0002 00        		.byte	0
  90 0003 00        		.byte	0
  91 0004 093D      		.word	15625
  92 0006 0000      		.word	0
  93 0008 01        		.byte	1
  94 0009 0000      		.word	0
  95 000b 02        		.byte	2
  96 000c 0000      		.word	0
  97               		.text
  98               	.Letext0:
  99               		.file 2 "/usr/lib/avr/include/stdint.h"
 100               		.file 3 "../../../os/common/ports/AVR/compilers/GCC/chtypes.h"
 101               		.file 4 "../../../os/rt/include/chearly.h"
 102               		.file 5 "../../../os/rt/include/chobjects.h"
 103               		.file 6 "../../../os/rt/include/chrfcu.h"
 104               		.file 7 "../../../os/rt/include/chdebug.h"
 105               		.file 8 "../../../os/rt/include/chtime.h"
 106               		.file 9 "../../../os/rt/include/chlists.h"
 107               		.file 10 "../../../os/common/ports/AVR/chcore.h"
 108               		.file 11 "../../../os/rt/include/chsem.h"
 109               		.file 12 "../../../os/rt/include/chmtx.h"
 110               		.file 13 "../../../os/hal/include/hal_pwm.h"
 111               		.file 14 "../../../os/hal/ports/AVR/MEGA/LLD/TIMv1/hal_pwm_lld.h"
 112               		.file 15 "../../../os/hal/include/hal.h"
 113               		.file 16 "../../../os/rt/include/chsys.h"
 114               		.file 17 "../../../os/rt/include/chthreads.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccvd7EHs.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccvd7EHs.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccvd7EHs.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccvd7EHs.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccvd7EHs.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccvd7EHs.s:13     .text.startup.main:0000000000000000 main
     /tmp/ccvd7EHs.s:86     .data.driver_config:0000000000000000 driver_config

UNDEFINED SYMBOLS
halInit
chSysInit
PWMD1
pwmStart
__umulhisi3
pwmEnableChannel
chThdSleep
__do_copy_data
